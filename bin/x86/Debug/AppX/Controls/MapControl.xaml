<UserControl x:Class="OneBusAway.Controls.MapControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:map="using:Bing.Maps"
             xmlns:local="using:OneBusAway"
             xmlns:conv="using:OneBusAway.Converters"
             xmlns:trig="using:OneBusAway.Triggers"
             xmlns:ctrls="using:OneBusAway.Controls"
             mc:Ignorable="d"
             d:DesignHeight="300"
             d:DesignWidth="400">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ms-appx:///Common/StandardStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <conv:BoolToInvertedConverter x:Key="boolToInvertedConverter" />
            <conv:BoolToVisibilityConverter x:Key="boolToVisibilityConverter" />
            <conv:MapViewToVisibilityConverter x:Key="mapViewToVisibilityConverter" />
            <local:NavigationControllerProxy x:Key="navigationProxy" />
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>

        <!-- NOTE: The nap control does not seem to support visual states.... -->
        <map:Map Name="map"
                 Credentials="AoUHJXTeSKEqI4xCm_HWb3GEmQY_rLTAOKlhGgzZFCYpZsU-BcD_IUWE0PcjGGgr"
                 ShowNavigationBar="{Binding IsSnapped, Source={StaticResource navigationProxy}, Converter={StaticResource boolToInvertedConverter}}"
                 ShowScaleBar="{Binding IsSnapped, Source={StaticResource navigationProxy}, Converter={StaticResource boolToInvertedConverter}}" />
    </Grid>
</UserControl>

